--- 
  - name: this playbook is a demo on when conditionals
    hosts: all
    become: yes
    vars:
       package: nginx
    tasks:
      - name: gather package details
        package_facts:
           manager: auto
      - name: install {{ package }} if not exist
        yum:
          name: "{{ package }}"
          state: latest
        when: "'{{ package }}' not in ansible_facts.packages"




      
       
